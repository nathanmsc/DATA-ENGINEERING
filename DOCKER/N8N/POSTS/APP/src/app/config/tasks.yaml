caption_task:
  description: |
    INSTRU√á√ÉO √öNICA E RESTRITA:
    Analise EXCLUSIVAMENTE os inputs fornecidos (Topic, Description, prompt_image, Voice, Audience, Platform) 
    e retorne APENAS um JSON v√°lido com as tr√™s chaves especificadas.
    
    REGRAS R√çGIDAS:
    - Retorne SOMENTE o JSON v√°lido
    - N√ÉO adicione texto explicativo
    - N√ÉO adicione coment√°rios
    - N√ÉO adicione quebras de linha desnecess√°rias
    - N√ÉO use markdown ou formata√ß√£o
    - O formato DEVE ser "Single Image"
    
    CRIT√âRIOS DE GERA√á√ÉO:
    - Instagram: Visual impactante, narrativa pessoal, focado em comunidade
    - Facebook: Visual com legenda explicativa, incentivando intera√ß√£o
    - Evite clich√™s, explore √¢ngulos √∫nicos e met√°foras visuais

  expected_output: |
    OBRIGAT√ìRIO - RETORNE EXCLUSIVAMENTE ESTE FORMATO JSON:
    {"strategy_brief": "texto_do_briefing", "content_guidelines": "diretrizes_detalhadas", "visual_concept": "descricao_conceito_visual"}

  example_output: |
    {
      "strategy_brief": "Crie uma postagem envolvente no Instagram sobre sa√∫de bucal para jovens adultos, usando um tom amig√°vel e acess√≠vel. Destaque a import√¢ncia de check-ups regulares e da higiene oral.", 
      "content_guidelines": "Use linguagem simples, inclua um call-to-action e foque nos benef√≠cios para o paciente. Evite jarg√£o t√©cnico.", 
      "visual_concept": "Uma imagem vibrante de um jovem adulto sorrindo com confian√ßa, com instrumentos odontol√≥gicos sutilmente inclu√≠dos ao fundo para enfatizar o cuidado dental."
    }

  strict_constraints:
    - response_format: "json_only"
    - additional_text: "forbidden"
    - explanations: "forbidden"
    - deviations: "forbidden"

  agent: caption_agent

writer_task:
  description: |
    INSTRU√á√ÉO √öNICA E RESTRITA:
    Crie UMA frase engajadora de no m√°ximo 3072 caracteres baseada nos inputs recebidos.
    Retorne APENAS o JSON especificado, SEM qualquer texto adicional.
    
    REGRAS R√çGIDAS:
    - M√°ximo 3072 caracteres na frase
    - Retorne SOMENTE o JSON v√°lido
    - N√ÉO adicione explica√ß√µes
    - N√ÉO adicione coment√°rios
    - N√ÉO use formata√ß√£o markdown
    - N√ÉO adicione texto fora do JSON

  expected_output: |
    OBRIGAT√ìRIO - RETORNE EXCLUSIVAMENTE ESTE FORMATO JSON:
    {
      "post_content": "frase_de_ate_3072_caracteres"}

  validation_rules:
    - format: "strict_json_only"
    - required_keys: ["post_content"]
    - max_characters: 3072
    - forbidden_additions: ["explanatory_text", "markdown", "comments"]
    - response_deviation: "forbidden"

  example_output: |
    {
      "post_content": "‚ú® Sorriso radiante, cora√ß√£o leve! Porque quando voc√™ cuida do seu sorriso, tudo ao redor brilha junto. üòÅüåø"
    }

  strict_constraints:
    - response_format: "json_only"
    - character_limit: 3072
    - additional_text: "forbidden"
    - explanations: "forbidden"

  context: [caption_task]
  agent: writer_agent

hashtag_task:
  description: |
    INSTRU√á√ÉO √öNICA E RESTRITA:
    Crie uma lista de at√© 7 hashtags relevantes separadas por espa√ßo.
    Retorne APENAS o JSON especificado, SEM qualquer texto adicional.
    
    REGRAS R√çGIDAS:
    - M√°ximo 7 hashtags
    - Separadas por espa√ßo
    - Retorne SOMENTE o JSON v√°lido
    - N√ÉO adicione explica√ß√µes
    - N√ÉO adicione coment√°rios
    - N√ÉO use formata√ß√£o markdown
    - N√ÉO adicione texto fora do JSON

  expected_output: |
    OBRIGAT√ìRIO - RETORNE EXCLUSIVAMENTE ESTE FORMATO JSON:
    {
      "hashtags": "#hashtag1 #hashtag2 #hashtag3 #hashtag4 #hashtag5 #hashtag6 #hashtag7"
    }

  validation_rules:
    - format: "strict_json_only"
    - required_keys: ["hashtags"]
    - max_hashtags: 7
    - separator: "space"
    - forbidden_additions: ["explanatory_text", "markdown", "comments"]
    - response_deviation: "forbidden"

  example_output: |
    {
      "hashtags": "#sorriso #odontologia #saudebucal #dentista #tratamentodental #cuidadoscomosdentes #odontologiacomamor"
    }

  strict_constraints:
    - response_format: "json_only"
    - hashtag_limit: 7
    - additional_text: "forbidden"
    - explanations: "forbidden"

  context: [caption_task]
  agent: hashtag_agent

imager_task:
  description: |
    INSTRU√á√ÉO √öNICA E RESTRITA:
    Crie um prompt detalhado em portugu√™s para gera√ß√£o de imagem via IA.
    Retorne APENAS o JSON especificado, SEM qualquer texto adicional.
    
    REGRAS R√çGIDAS:
    - Prompt em portugu√™s
    - Baseado no visual_concept recebido
    - Retorne SOMENTE o JSON v√°lido
    - N√ÉO adicione explica√ß√µes
    - N√ÉO adicione coment√°rios
    - N√ÉO use formata√ß√£o markdown
    - N√ÉO adicione texto fora do JSON

  expected_output: |
    OBRIGAT√ìRIO - RETORNE EXCLUSIVAMENTE ESTE FORMATO JSON:
    {"prompt_image": "descricao_detalhada_para_geracao_de_imagem_por_ia"}

  validation_rules:
    - format: "strict_json_only"
    - required_keys: ["prompt_image"]
    - language: "portuguese"
    - forbidden_additions: ["explanatory_text", "markdown", "comments"]
    - response_deviation: "forbidden"

  example_output: |
    {"prompt_image": "Uma pessoa sorridente em destaque, com um sorriso radiante e contagiante, transmitindo felicidade e leveza. Ao seu redor, o ambiente reflete essa alegria: luz suave, cores vibrantes, elementos brilhantes como raios de luz irradiando do sorriso."}

  strict_constraints:
    - response_format: "json_only"
    - language: "portuguese"
    - additional_text: "forbidden"
    - explanations: "forbidden"

  context: [caption_task]
  agent: imager_agent

consolidator_task:
  description: |
    INSTRU√á√ÉO √öNICA E RESTRITA:
    Consolide os tr√™s outputs recebidos (post_content, hashtags, prompt_image) em um JSON final.
    Retorne APENAS o JSON especificado, SEM qualquer texto adicional.
    
    REGRAS R√çGIDAS:
    - Use EXATAMENTE as tr√™s chaves especificadas
    - Retorne SOMENTE o JSON v√°lido
    - N√ÉO adicione explica√ß√µes
    - N√ÉO adicione coment√°rios
    - N√ÉO use formata√ß√£o markdown
    - N√ÉO adicione texto fora do JSON
    - N√ÉO modifique o conte√∫do recebido

  expected_output: |
    OBRIGAT√ìRIO - RETORNE EXCLUSIVAMENTE ESTE FORMATO JSON:
    {"post_content": "frase_completa", "hashtags": "lista_de_hashtags", "prompt_image": "prompt_detalhado_para_ia"}

  validation_rules:
    - format: "strict_json_only"
    - required_keys: ["post_content", "hashtags", "prompt_image"]
    - forbidden_additions: ["explanatory_text", "markdown", "comments"]
    - content_modification: "forbidden"
    - response_deviation: "forbidden"

  example_output: |
    {
      "post_content": "‚ú® Sorriso radiante, cora√ß√£o leve! Porque quando voc√™ cuida do seu sorriso, tudo ao redor brilha junto. üòÅüåø", 
      "hashtags": "#sorriso #odontologia #saudebucal #dentista #tratamentodental #cuidadoscomosdentes #odontologiacomamor", 
      "prompt_image": "Uma pessoa sorridente em destaque, com um sorriso radiante e contagiante, transmitindo felicidade e leveza."
    }

  strict_constraints:
    - response_format: "json_only"
    - consolidation_only: "true"
    - additional_text: "forbidden"
    - explanations: "forbidden"
    - content_changes: "forbidden"

  context: [writer_task, hashtag_task, imager_task]
  agent: consolidator_agent

global_constraints:
  response_format:
    - type: "json_only"
    - validation: "strict"
    - deviations: "rejected"
  
  forbidden_elements:
    - explanatory_text: "any text outside JSON structure"
    - markdown_formatting: "##, **, [], etc."
    - comments: "// or /* */ style comments"
    - additional_context: "extra information not requested"
    
  validation_checks:
    - json_validity: "must parse as valid JSON"
    - required_keys: "all specified keys must exist"
    - content_limits: "respect character/item limits"
    - format_compliance: "exact format match required"

enforcement_level: "maximum"
tolerance: "zero"
fallback_action: "reject_and_retry"
