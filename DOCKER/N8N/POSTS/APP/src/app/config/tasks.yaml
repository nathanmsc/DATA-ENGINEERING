caption_task:
  description: |
    Analise todos os inputs (Topic, Description, Prompt, Voice, Audience, Platform)
    e distribua diretrizes especÃ­ficas.

    Com base apenas em Topic, Target Audience, Voice e na plataforma de destino
    (Platform: Instagram ou Facebook), gere exatamente 1 conceito criativo de conteÃºdo.
    Concentre-se na mensagem central, no Ã¢ngulo ou no gancho.
    O formato sugerido DEVE ser "Single Image".

    OtimizaÃ§Ã£o para Plataforma: Ajuste explicitamente o tipo e o Ã¢ngulo do conceito para a
    plataforma especificada.

    Instagram: Visual, com narrativa, pessoal, focado na comunidade, imagens Ãºnicas impactantes.

    Facebook: Visuais com legendas explicativas um pouco mais longas, que incentivem
    compartilhamentos e comentÃ¡rios, tambÃ©m baseados em imagem Ãºnica.

    Originalidade: Evite clichÃªs comuns (como citaÃ§Ãµes bÃ¡sicas), a menos que o input
    realmente os sugira. Explore Ã¢ngulos como:

    representaÃ§Ãµes visuais marcantes de dados
    imagens metafÃ³ricas
    perguntas instigantes apresentadas visualmente
    momentos de bastidores
    mensagens-chave destacadas graficamente

    SugestÃ£o de Formato: O formato DEVE ser "Single Image".
    O CONCEITO Ã© o principal, o formato Ã© fixo.
  expected_output: >
    "IMPORTANTE: ForneÃ§a a saÃ­da estritamente no formato JSON abaixo, sem texto adicional ou explicaÃ§Ãµes fora da estrutura JSON."
    {
      "strategy_brief": "[texto do briefing estratÃ©gico para publicaÃ§Ã£o]",
      "content_guidelines": "[diretrizes de conteÃºdo detalhadas]",
      "visual_concept": "[descriÃ§Ã£o do conceito visual principal]"
    }
  example: |
      {
        "strategy_brief": "Crie uma postagem envolvente no Instagram sobre saÃºde bucal para jovens adultos, usando um tom amigÃ¡vel e acessÃ­vel. Destaque a importÃ¢ncia de check-ups regulares e da higiene oral.",
        "content_guidelines": "Use linguagem simples, inclua um call-to-action e foque nos benefÃ­cios para o paciente. Evite jargÃ£o tÃ©cnico.",
        "visual_concept": "Uma imagem vibrante de um jovem adulto sorrindo com confianÃ§a, com instrumentos odontolÃ³gicos sutilmente incluÃ­dos ao fundo para enfatizar o cuidado dental."
      }

  inputs:
    - name: Topic
      type: string
      description: "Tema principal do post"
    - name: Description
      type: string
      description: "DescriÃ§Ã£o detalhada do conteÃºdo"
    - name: prompt_image
      type: string
      description: "Prompt base para imagem"
    - name: Voice
      type: string
      description: "Tom de voz desejado"
    - name: Audience
      type: string
      description: "PÃºblico-alvo especÃ­fico"
    - name: Platform
      type: string
      description: "Plataforma de publicaÃ§Ã£o"
  agent: caption_agent

writter_task:
  description: >
    "Criar uma frase curta e engajadora de atÃ© 2048 caracteres para o post,
    mantendo coerÃªncia com o tema e adequaÃ§Ã£o ao pÃºblico."
  expected_output: >
    IMMPORTANTE: ForneÃ§a a saÃ­da estritamente no formato JSON abaixo, sem texto adicional ou explicaÃ§Ãµes fora da estrutura JSON.
    {
      "post_content": "[ConteÃºdo para publicaÃ§Ã£o]"
    }
  example: |
      {
        "post_content": "âœ¨ Sorriso radiante, coraÃ§Ã£o leve! Porque quando vocÃª cuida do seu sorriso, tudo ao redor brilha junto. ğŸ˜ğŸŒ¿"
      }

  negative_prompt:
    "Do NOT include any other text, formatting, or explanation outside the JSON structure."
  inputs:
    - name: strategy_brief
      type: object
      description: "Briefing estratÃ©gico do master"
    - name: content_guidelines
      type: object
      description: "Diretrizes do master"
    - name: visual_concept
      type: object
      description: "Conceito visual do master"
  context: [caption_task] 
  agent: writter_agent

hashtag_task:
  description: >
    "Criar lista estratÃ©gica de hashtags relevantes e otimizadas
    para o tema e plataforma especÃ­fica."
  expected_output: >
    "hashtags: [lista de hashtags separadas por espaÃ§o]"
  example: |
      {
        "hashtags": "#sorriso #odontologia #saudebucal #dentista #tratamentodental #cuidadoscomosdentes #odontologiacomamorâ¤ï¸"
      }
  inputs:
    - name: strategy_brief
      type: object
      description: "Briefing estratÃ©gico do master"
    - name: content_guidelines
      type: object
      description: "Diretrizes do master"
    - name: visual_concept
      type: object
      description: "Conceito visual do master"
  context: [caption_task] 
  agent: hashtag_agent

imager_task:
  description: >
    "Criar prompt detalhado em portuguÃªs para geraÃ§Ã£o de imagem
    que complemente perfeitamente o conceito do post."
  expected_output: >
    IMMPORTANTE: ForneÃ§a a saÃ­da estritamente no formato JSON abaixo, sem texto adicional ou explicaÃ§Ãµes fora da estrutura JSON.
    {
      "prompt_image": "[descriÃ§Ã£o detalhada para geraÃ§Ã£o da imagem via IA (ex: Midjourney, replicate, etc.)]"
    }
  example: |
      {
      "prompt_image": "Image of a patient smiling while receiving dental treatment, highlighting their confidence in themselves."
      }
  negative_prompt:
    "Do NOT include any other text, formatting, or explanation outside the JSON structure."
  inputs:
    - name: visual_concept
      type: object
      description: "Conceito visual do master"
  context: [caption_task] 
  agent: imager_agent

consolidator_task:
  description: >
    "Consolidar todos os outputs dos agentes workers em uma saÃ­da final
    estruturado pronto para uso."
  expected_output: >
    IMPORTANT: ForneÃ§a a saÃ­da estritamente no formato JSON abaixo, sem texto adicional ou explicaÃ§Ãµes fora da estrutura JSON.
    {
      "post_content": "[legenda completa do post]"
      "hashtag": "[lista de hashtags]"
      "prompt_image": "[prompt detalhado para geraÃ§Ã£o de imagem por IA]"
    }
  example: |    
      {
        "post_content": "âœ¨ Sorriso radiante, coraÃ§Ã£o leve! Porque quando vocÃª cuida do seu sorriso, tudo ao redor brilha junto. ğŸ˜ğŸŒ¿",
        "Hashtag": "#sorriso #odontologia #saudebucal #dentista #tratamentodental #cuidadoscomosdentes #odontologiacomamorâ¤ï¸",
        "prompt_image": "Image of a patient smiling while receiving dental treatment, highlighting their confidence in themselves."
      }
  inputs:
    - name: post_content
      type: string
      description: "Output da postagem do writer_task"
    - name: hashtags
      type: string
      description: "Output das hashtags do hashtag_task"
    - name: prompt_image
      type: string
      description: "Output da prompt de imagem do image_task"
  context: [imager_task, writter_task, hashtag_task] 
  agent: consolidator_agent
